function updateNav(){var s=$btn.hasClass("hidden")?$nav.width():$nav.width()-$btn.width()-30;if($vlinks.width()>s)for(;$vlinks.width()>s&&$vlinks.children("*:not(.persist)").length>0;)breaks.push($vlinks.width()),$vlinks.children("*:not(.persist)").last().prependTo($hlinks),s=$btn.hasClass("hidden")?$nav.width():$nav.width()-$btn.width()-30,$btn.removeClass("hidden");else{for(;breaks.length>0&&s>breaks[breaks.length-1];)$vlinks_persist_tail.children().length>0?$hlinks.children().first().insertBefore($vlinks_persist_tail):$hlinks.children().first().appendTo($vlinks),breaks.pop();breaks.length<1&&($btn.addClass("hidden"),$btn.removeClass("close"),$hlinks.addClass("hidden"))}$btn.attr("count",breaks.length);var n=$(".masthead").height();$("body").css("padding-top",n+"px"),$(".author__urls-wrapper button").is(":visible")?$(".sidebar").css("padding-top",""):$(".sidebar").css("padding-top",n+"px")}var $nav=$("#site-nav"),$btn=$("#site-nav button"),$vlinks=$("#site-nav .visible-links"),$vlinks_persist_tail=$vlinks.children("*.persist.tail"),$hlinks=$("#site-nav .hidden-links"),breaks=[];$(window).on("resize",function(){updateNav()}),screen.orientation.addEventListener("change",function(){updateNav()}),$btn.on("click",function(){$hlinks.toggleClass("hidden"),$(this).toggleClass("close")}),updateNav();